<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <!-- Cette Meta vienn de Bootstrap et comporte une valeur supplémentaire "Shrink-to-fit=no" cela concerne les mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>JS - VII 01 - Evènements</title>
    <!-- CSS de Bootstap  -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <!-- Styles perso -->
    <style>
        #rouge {
            width: 150px;
            height: 150px;
            background-color: red;
            line-height: 150px;
            font-size: 2em;
            text-align: center;
            color: white;
        }

        #rose {
            width: 150px;
            height: 150px;
            background-color: pink;
            line-height: 150px;
            font-size: 2em;
            text-align: center;
            color: white;
        }

        #orange {
            width: 150px;
            height: 150px;
            background-color: orange;
            line-height: 150px;
            font-size: 2em;
            text-align: center;
            color: white;
        }

        #bleue {
            width: 150px;
            height: 150px;
            background-color: lightskyblue;
            line-height: 150px;
            font-size: 2em;
            text-align: center;
            color: white;
        }
    </style>
</head>
<body>
    <div class="jumbotron"> 
        <!-- En-tête typique de bootstrap -->
        <h1 class="display-4 text-center" id="titreNiveau1">JS - VII 01 - les Evènements</h1>
        <p class="lead ma-classe text-center">Les évènement en JS</p>
    </div>
    <div class="container border border-primary p-4"><!-- Container auto centrée dans la page //Container-fluid, la section pleine largeur -->
        <div class="row border border-danger m-2 p-2">
            <div class="col-8 bg-primary">
                <h2>addEventListener, exemples</h2>
                <p>Un simple clique sur la div #rouge</p>
                <p id="p1">Cliquez sur le paragraphe</p>
            </div><!-- Fin col-->

            <div class="col-4">
                <div id="rouge">#rouge</div>
            </div><!-- Fin col-->
        </div><!-- Fin de row -->

        <div class="row border border-success m-2 p-2">
            <div class="col-8">
                <h2>Autre exemple</h2>
                <p>Un double clique sur la div #rose</p>
                <p id="p1">Cliquez sur le paragraphe</p>
                <p id="p2">Cliquez sur le paragraphe</p>
            </div><!-- Fin col-->

            <div class="col-4">
                <div id="rose">#rose</div>
            </div><!-- Fin col-->
        </div><!-- Fin de row -->

        <div class="row border border-info m-2 p-2">
            <div class="col-8">
                <h2>ex.suite...</h2>
                <p>Survolez la div #orange</p>
            </div><!-- Fin col-->

            <div class="col-4">
                <div id="orange">#orange</div>
            </div><!-- Fin col-->
        </div><!-- Fin de row -->

        <div class="row border border-primary m-2 p-2">
            <div class="col-8">
                <h2>ex.suite...</h2>
                <p></p>
            </div><!-- Fin col-->

            <div class="col-4">
                <div id="bleue">#bleue</div>
            </div><!-- Fin col-->
        </div><!-- Fin de row -->

        <div class="row border border-dark m-2 p-2">
            <div class="col-4">
                <h2>Formulaire</h2>
                <p>Nous avons pris le formulaire sur cette <a href="https://getbootstrap.com/docs/4.5/components/forms/">page</a></p>
            </div><!-- Fin col-->

            <div class="col-8">
                <!-- Formulaire -->
                <form class="form-inline my-4" action="#" method="POST">
                    <label class="sr-only" for="password">Mot de passe</label>
                    <input type="password" class="form-control mb-2 mr-sm-2" name="password" id="password" placeholder="Mot de passe" required>

                    <label class="sr-only" for="email">Email</label>
                    <div class="input-group mb-2 mr-sm-2">
                      <div class="input-group-prepend">
                        <div class="input-group-text">@</div>
                      </div>

                      <input type="email" class="form-control" name="email" id="email" placeholder="Votre email" required>
                    </div>

                    <button type="submit" id="submit" class="btn btn-primary mb-2">Se connecter</button>
                  </form>
            </div><!-- Fin col-->
        </div><!-- Fin de row -->

    </div><!-- Fin de container -->
<!-- Le JS de bootstrap est optionnel -->
<!-- En 1er JQuery, puis Pepper.js et le Js Boostrap -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>

<!-- Mes scripts -->
<script>
    
    // 1- Evènements avec une fonction
    //Je sélectionne le #rouge par son id et j'ajoute en "écouteur d'évènement" qui s'exécutera au moment de l'évènement
    //addEventListener() a besoin de 2 argument ( 1- le mot clef correspondant, ici le click, 2- le nom de la fonction)
    document.querySelector('#rouge').addEventListener('click',fDivRouge);
    //Puis on crée la fonction
    function fDivRouge(){
        alert('Vous avez cliqué sur la div #rouge');
        this.style.background = "olive";
    }

    //Autre exemple
    //Avec un fonction anonyme
    //La fonction anonyme est le second argument de addEventListener() 

    document.querySelector('#p1').addEventListener('click', function(){
        alert('Vous avez cliqué sur le paragraphe avec une fonction anonyme');
        this.style.background = "red";
        this.style.color = "white";
    });

    //2- Une version avec une variable
    let maDivRose = document.querySelector('#rose');
    console.log(typeof maDivRose, maDivRose);

    maDivRose.addEventListener('dblclick', fDivRose);//ici le motclef est dblclick doubleclick

    function fDivRose(){
        alert('Vous avez double-cliqué sur la div #rose');
    }

    //Avec une fonction anonyme
    document.querySelector('#p2').addEventListener('dblclick', function() {
        alert('Vous avez double-cliqué sur le paragraphe p2');
        this.style.background = "gold";
    });

    //3- nouveau mot clef "mouseover" au survol de la souris

    document.querySelector('#orange').addEventListener('mouseover', fDivOrange);
    // document.getElementById('#orange').addEventListener('mouseover', fDivOrange);

    function fDivOrange() {
        // alert('Vous avez survolé la div #orange');
        this.innerHTML = 'mouseover';//injection d'un nouveau contenu
        this.style.fontSize = "1.5em";
        // this.style.display = "none";
    }

    //4- Nouveau mot clef "mouseout"
    document.querySelector('#bleue').addEventListener('mouseout', fDivBleue);
    
    function fDivBleue() {
        alert('Vous êtes passé sur la div #bleue');
        this.innerHTML = 'mouseout';//injection d'un nouveau contenu
        this.style.fontSize = "1.5em";
    }

    //5- Formulaire
    //traitement du formulaire coté client 

    //écouteur d'évènement sur l'input email avec focus 
    document.querySelector('#email').addEventListener('focus', inputEmailFocus);

    function inputEmailFocus() {
        // alert('Focus dans le champ email');
        this.classList.add('bg-success');
        this.classList.add('text-white');
    }

    // écouteur d'évènement sur l'input password avec blur


    document.querySelector('#password').addEventListener('blur', inputPasswordBlur);

    function inputPasswordBlur() {
        this.style.backgroundColor = 'gold';
        this.style.color = 'white';
    }



    //écouteur d'évènement sur le bouton avec click
    document.querySelector('#submit').addEventListener('click', inputBtnSubmit);

    function inputBtnSubmit(event) {//attention on ajoute event en argument à cette fonction
        event.preventDefault();//cette fonction preventDefault() neutralise le formulaire (entre autre l'attribut "required") pour la demo ou si on récupère les information en développement
        alert('Nous avons bien reçu vos information');
        this.classList.add('bg-success');
        this.innerHTML = "connecté";
    }

</script>
</body>
</html>